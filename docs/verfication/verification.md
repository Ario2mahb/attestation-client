# Verification system

In order to use or introduce a new attestation type, the type needs to be well defined and approved by the attestation type community on the [State Connector attestation type repo](https://github.com/flare-foundation/state-connector-attestation-types). Once a definition is approved, the procedures for implementing it into the attestation client code can start. When implemented, attestation providers start supporting new attestations from the certain voting round on, agreed on by the attestation provider community.

To support easier implementation of the new attestation types the Attestation Client Suite includes [code generation utilities](./code-generation.md) which help in including new and updating existing attestation types in a standardized manner.

Verification system consists of several parts. The first part involves attestation types, including the formats of attestation requests, attestation responses and the rules for verification. These closely relate to the main job of attestation client, namely receiving and parsing the attestation requests, querying indexers and RPC APIs of the blockchain nodes, verifying the data according to the rules, and then calculating the attestation responses, in cases of successful attestations. An of course building the Merkle tree, extracting the Merkle root and voting.

The second part of the attestation system relates to actual application of the attestations as the proofs within smart contracts, hence the validation of the proved data. It consists of writing the validation protocol in a smart contract. Such a protocol uses the list of the confirmed Merkle roots from the State Connector contract, and accepts as an input the following parts, that constitute the attestation proof:
- attestation response,
- Merkle proof,
- voting round id of in which the attestation was confirmend.

 The applicant (user) it required to provide the attestation proof data to the smart contract. For that the applicant first needs to obtain all the attestation requests (votes) for a specific voting roudn from an attestation provider that voted correctly through its [proof APIs](proof-api.md). A part of the proof API response are all attestation responses, from which the applicant first assembles the (confirmed) Merkle tree of the voting round. Then it extracts the Merkle proof for the specific attestation from the Merkle tree. Having all the attestation proof data, the applicant (user) can submit the attestation proof to the smart contract. For easier understanding, se an [example attestation verification workflow](./verification-workflow.md)